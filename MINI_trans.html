<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Source LIFF (Auto Redirect)</title>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  </head>
  <body>
    <h3>Redirecting to destination LIFF...</h3>

    <script>
      // 取得 URL 參數
      const params = new URLSearchParams(window.location.search);
      const liffId = params.get("liffid");

      if (!liffId) {
        document.body.innerHTML = "<p>Missing liffId parameter</p>";
      } else {
        liff.init({ liffId })
          .then(() => {
            // 這裡放你要做的事（redirect / openWindow）
            document.body.innerHTML = "<p>Init OK : " + liffId + "</p>";

            // 範例：自動導向另一個 LIFF（可選）
            /*
            liff.openWindow({
              url: "https://liff.line.me/xxxx-yyyy",
              external: false
            });
            */
          })
          .catch(err => {
            document.body.innerHTML = "<p>Init failed: " + err + "</p>";
            console.error(err);
          });
      }
    </script>
  </body>
</html>
